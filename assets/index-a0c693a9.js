import{r as u}from"./http-cffe2822.js";import{_ as y,a as t,r as C,o as z,b as s,c as D,e as B,f as i,g as a,w as _,u as g,E as h,i as S}from"./index-96b49db5.js";function k(r){return u({url:"/log/get",method:"get",params:r})}function H(){return u({url:"/log/deleteAll",method:"delete"})}const L={class:"WH0"},R={class:"WH11 colorw1 btp-left edgeDisInter BSR sp14",style:{position:"relative"}},T={class:"WH12 colorw1 marginT-2 overFlowH edgeDisInter BSR sp14"},E={class:"marginT fromRight"},I={__name:"index",setup(r){t();let d=t([]),p=t();t(),t(),t(),t(),t(),t(!1);let l=C({size:"10",page:"1"});setTimeout(()=>{o()},1e4);const m=()=>{H().then(e=>{e.data.code===200?(h.success(e.data.message),o()):(h.error(e.data.message),o())})},o=()=>{let e={size:l.size,page:l.page};k(e).then(c=>{p.value=c.data.data.count,d.value=c.data.data.logs})},b=e=>{l.size=e,o()},f=e=>{l.page=e,o()};return z(()=>{o()}),(e,c)=>{const v=s("el-button"),n=s("el-table-column"),w=s("el-table"),x=s("el-pagination");return D(),B("div",L,[i("div",R,[a(v,{type:"primary",onClick:m},{default:_(()=>[S("一键删除")]),_:1})]),i("div",T,[a(w,{data:g(d),style:{height:"95%"},"header-cell-class-name":"table_header","row-style":{fontSize:"14px",height:"10px"},"cell-style":{padding:"14px",height:"30px"}},{default:_(()=>[a(n,{label:"等级",prop:"level",align:"center",width:"width"}),a(n,{label:"时间",prop:"ts",align:"center",width:"width"}),a(n,{label:"位置",prop:"caller",align:"center",width:"width"}),a(n,{label:"出错信息",prop:"msg",align:"center",width:"width"})]),_:1},8,["data"]),i("div",E,[a(x,{"page-size":10,background:"",layout:"total, prev, pager, next, jumper",total:g(p),onSizeChange:b,onCurrentChange:f},null,8,["total"])])])])}}},W=y(I,[["__scopeId","data-v-9cab3b95"]]);export{W as default};
